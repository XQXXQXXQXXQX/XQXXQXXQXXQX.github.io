
# Windows 정적 바이너리 활용 가이드

정적 바이너리(Static Binaries)는 외부 라이브러리(DLL)에 의존하지 않고 자체적으로 모든 코드를 포함하는 실행 파일입니다. Windows 모의 해킹 환경에서 정적 바이너리는 다음과 같은 이유로 매우 유용하게 활용됩니다.

-   **이식성:** 타겟 시스템에 특정 라이브러리가 설치되어 있지 않아도 실행 가능합니다.
-   **스텔스:** 설치 과정이 필요 없어 디스크에 흔적을 덜 남기고, 메모리에서 직접 실행하기 용이합니다.
-   **편의성:** 필요한 도구를 빠르게 업로드하여 사용할 수 있습니다.

---

### **1. 주요 정적 바이너리 저장소**

-   **[Andrew-d/static-binaries](https://github.com/andrew-d/static-binaries):** 다양한 Linux 및 Windows용 정적 바이너리를 제공하는 유용한 저장소입니다. `nmap`, `nc`, `socat` 등 네트워크 도구들이 포함되어 있습니다.
-   **Sysinternals Suite:** Microsoft에서 제공하는 시스템 관리 및 진단 도구 모음입니다. `procdump`, `accesschk`, `psexec` 등 권한 상승 및 정보 수집에 유용한 도구들이 많습니다.
-   **PEASS-ng (WinPEAS):** Windows 권한 상승을 위한 종합 스크립트인 `WinPEAS`도 단일 실행 파일 형태로 제공됩니다.
-   **커스텀 컴파일:** 직접 C/C++ 등으로 작성한 코드를 정적으로 컴파일하여 사용할 수도 있습니다.

---

### **2. 활용 시나리오**

정적 바이너리는 다음과 같은 상황에서 유용하게 사용됩니다.

-   **정보 수집:** `whoami.exe`, `systeminfo.exe`, `ipconfig.exe` 등 기본 명령어가 제한되거나, 더 상세한 정보가 필요할 때.
-   **권한 상승:** `WinPEAS.exe`, `accesschk.exe`, `procdump.exe` 등을 사용하여 시스템 취약점을 분석하고 익스플로잇합니다.
-   **네트워크 도구:** `ncat.exe`, `socat.exe` 등을 사용하여 리버스/바인드 셸, 포트 포워딩, 터널링 등을 구현합니다.
-   **크리덴셜 덤프:** `mimikatz.exe` (탐지 가능성 높음) 등을 사용하여 메모리에서 크리덴셜을 추출합니다.

---

### **3. 다운로드 및 실행**

1.  **다운로드:** 공격자 머신에서 필요한 정적 바이너리를 다운로드합니다.
2.  **타겟으로 전송:** `파일 전송 종합 가이드`를 참고하여 타겟 시스템으로 바이너리를 업로드합니다.
3.  **실행:** 명령 프롬프트나 PowerShell에서 직접 실행합니다.

```powershell(title="정적 바이너리 실행 예시")
C:\Temp\winPEASany.exe
C:\Temp\accesschk.exe -accepteula -ucqv daclsvc
```

---

### **4. 주의사항**

-   **AV/EDR 탐지:** 많은 정적 바이너리(특히 공격 도구)는 백신(AV)이나 EDR(Endpoint Detection and Response) 솔루션에 의해 악성 코드로 탐지될 수 있습니다.
-   **우회 기법:** 탐지를 피하기 위해 파일리스(Fileless) 실행, 난독화, 또는 합법적인 도구의 오용(LOLBAS)과 같은 우회 기법을 함께 고려해야 합니다.

